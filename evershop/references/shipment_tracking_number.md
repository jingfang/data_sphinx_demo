| path | summary | is relevant |
| --- | --- | --- |
| [packages/evershop/src/modules/checkout/api/updateShipment/updateShipment.js](https://github.com/evershopcommerce/evershop/blob/bc7ee43cdadfb8a00e896c8f753da75938507854/packages/evershop/src/modules/checkout/api/updateShipment/updateShipment.js) | このコードでは、shipmentテーブルのtracking_numberカラムは、リクエストボディから取得された値で更新されます。具体的には、updateクエリが使用されて、shipment_idに一致するレコードのcarrier_nameとtracking_numberが更新されます。また、更新後のshipmentレコードが取得され、レスポンスとして返されます。 | True |
| [packages/evershop/src/modules/checkout/api/createShipment/createShipment.js](https://github.com/evershopcommerce/evershop/blob/bc7ee43cdadfb8a00e896c8f753da75938507854/packages/evershop/src/modules/checkout/api/createShipment/createShipment.js) | このコードでは、リクエストボディから取得したtracking_numberが、insert文でshipmentテーブルのtracking_numberカラムに挿入されます。具体的には、以下の部分で挿入されています。<br><br>```<br>const result = await insert('shipment')<br>  .given({<br>    shipment_order_id: order.order_id,<br>    carrier_name,<br>    tracking_number<br>  })<br>  .execute(connection);<br>``` | True |
| [packages/evershop/src/modules/checkout/migration/Version-1.0.0.js](https://github.com/evershopcommerce/evershop/blob/4f1f4947f95e03b9cf64486a42b1669d484cba61/packages/evershop/src/modules/checkout/migration/Version-1.0.0.js) | <br><br>テーブルshipmentのカラムtracking_numberは、配送業者の追跡番号を格納するために使用されます。これにより、顧客は注文の状態を追跡できます。 | True |
| [packages/evershop/src/modules/checkout/api/updateShipment/payloadSchema.json](https://github.com/evershopcommerce/evershop/blob/0e00f5a5fda1ecd14d16ff1143f53f5befbfe32b/packages/evershop/src/modules/checkout/api/updateShipment/payloadSchema.json) | <br><br>このコード自体は、shipmentテーブルのtracking_numberカラムを直接使用しているわけではありません。ただし、このコードは、配送業者名と追跡番号を含むJSONオブジェクトを表すスキーマを定義しています。したがって、shipmentテーブルのtracking_numberカラムの値は、このスキーマに従ってJSONオブジェクトの一部として使用される可能性があります。具体的には、shipmentテーブルの各行に対して、このスキーマに従うJSONオブジェクトを作成し、その中にtracking_numberカラムの値を含めることができます。 | False |
| [packages/evershop/src/modules/checkout/api/createShipment/payloadSchema.json](https://github.com/evershopcommerce/evershop/blob/0e00f5a5fda1ecd14d16ff1143f53f5befbfe32b/packages/evershop/src/modules/checkout/api/createShipment/payloadSchema.json) | <br><br>このコード自体は、shipmentテーブルのtracking_numberカラムを直接使用しているわけではありません。ただし、このコードは、配送業者名と追跡番号を表すJSONオブジェクトを定義しており、これらの情報がshipmentテーブルのtracking_numberカラムに格納される可能性があります。ただし、このコードだけでは、shipmentテーブルのスキーマやデータベースの設計については何も言及していません。 | False |
| [packages/evershop/src/components/admin/checkout/orderEdit/items/AddTrackingButton.js](https://github.com/evershopcommerce/evershop/blob/7d41ed3f57a1ac7d8b02cb86fd8b01508e77bcf6/packages/evershop/src/components/admin/checkout/orderEdit/items/AddTrackingButton.js) | <br><br>このコードでは、shipmentオブジェクトのtrackingNumberプロパティが存在しない場合に、トラッキング番号を追加するためのボタンが表示されます。つまり、tracking_numberカラムはこのコードで直接使用されていません。ただし、Formコンポーネントでtracking_numberフィールドが定義されており、このフィールドに入力された値が、shipmentオブジェクトのupdateShipmentApiプロパティで指定されたAPIエンドポイントにPATCHリクエストで送信されます。したがって、tracking_numberカラムは、このコードで使用されるAPIエンドポイントで使用される可能性があります。 | False |
| [packages/evershop/src/components/admin/checkout/orderEdit/items/FullfillButton.js](https://github.com/evershopcommerce/evershop/blob/7d41ed3f57a1ac7d8b02cb86fd8b01508e77bcf6/packages/evershop/src/components/admin/checkout/orderEdit/items/FullfillButton.js) | このコードの中では、テーブルshipmentのカラムtracking_numberは使用されていません。ただし、フォームのフィールドとして表示され、ユーザーが入力する必要があるトラッキング番号のラベルとして使用されています。また、フォームが送信された後、このトラッキング番号はAPIに送信され、新しい出荷レコードが作成される際に使用されます。 | False |
[Back to shipment](../tables/shipment.md)